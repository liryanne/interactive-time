{"version":3,"sources":["interactive_time/core.cljs"],"mappings":";AAIA,AAAA,AAAMA;AAAN,AAEE,AAAMC,AAAI,AAAAC;AAAV,AACE,AAAA,AAAA,AAACC,AAAoBF;;AAEzB,AAAA,AAAAG,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAASC,AAAS,AAAA,AAACC,AAAeR;;AAElC,AAAA,AAACS,AAEC,AAAKC,AAAEA;AAAP,AAAA,AAAA,AAAA,AAAA,AACS,AAAAR;;AAGX,AAAA,AAACO,AACQ,AAAAE,AAAKG;AAAL,AAAA,AAAAF,AAAAD;AAAA,AAAAE,AAAAD,AAAA,AAAA,AAASF;AAAT,AAAAG,AAAAD,AAAA,AAAA,AAAWG;AAAX,AACE,AAAA,AAACC,AAAMF,AAASC;;AAE3B,AAAA,AAACN,AAEC,AAAAQ,AAAKH;AAAL,AAAA,AAAAI,AAAAD;AAAA,AAAAJ,AAAAK,AAAA,AAAA,AAASR;AAAT,AAAAG,AAAAK,AAAA,AAAA,AAAWC;AAAX,AACE,AAAA,AAACH,AAAMF,AAAeK;;AAE1B,AAAA,AAACC,AAEC,AAAKN,AAAGJ;AAAR,AACE,AAAA,AAAOI;;AAEX,AAAA,AAACM,AAEC,AAAKN,AAAGJ;AAAR,AACE,AAAA,AAAaI;;AAEjB,AAAA,AAAMQ;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAGoB,AAAA,AAAA,AAACE,AACb,AAAA,AAAA,AAACA,AACF,AAAA,AAAAF,AACA,AAAA,AAACG,AACD,AAAA,AAACX;;AAER,AAAA,AAAMa;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAL,AAAA,AAAA,AAAAI,AAKoB,AAAA,AAAA,AAACF;AALrB,AAMwB,AAAA,AAAA,AAACpB,AAAgC,AAAA,AAAAsB;;;AAEzD,AAAA,AAAME;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIIL,AACAI;;AAEJ,AAAA,AAAME;AAAN,AAEE,AAAA,AAACC,AAAoBF,AACD,AAAA,AAACG;;AAEvB,AAAA,AAAuBC;AAAvB,AAEE,AAACC;;AACD,AAACJ;;AAEH,AAAA,AAAeK;AAAf,AAEE,AAAA,AAAA,AAACC;;AACD,AAACN","names":["interactive-time.core/dispatch-timer-event","now","js/Date","re-frame.core/dispatch","js/interactive-time","js/interactive-time.core","js/interactive-time.core.do-timer","interactive-time.core/do-timer","js/setInterval","re_frame.core.reg_event_db","_","p__43570","vec__43571","cljs.core.nth","db","new-time","cljs.core.assoc","p__43574","vec__43575","new-color-value","re_frame.core.reg_sub","cljs.core/deref","interactive-time.core/clock","re_frame.core.subscribe","clojure.string.split","p1__43578#","interactive-time.core/color-input","interactive-time.core/ui","interactive-time.core/render","reagent.dom.render","js/document.getElementById","interactive-time.core/start","re-frame.core/clear-subscription-cache!","interactive-time.core/init","re-frame.core/dispatch-sync"],"sourcesContent":["(ns interactive-time.core\r\n  (:require [reagent.core :as r]\r\n            [re-frame.core :as rf]))\r\n\r\n(defn dispatch-timer-event\r\n  []\r\n  (let [now (js/Date.)]\r\n    (rf/dispatch [:timer now])))\r\n\r\n(defonce do-timer (js/setInterval dispatch-timer-event 1000))\r\n\r\n(rf/reg-event-db\r\n  :initialize\r\n  (fn [_ _]\r\n    {:time (js/Date.)\r\n     :time-color \"red\"}))\r\n\r\n(rf/reg-event-db\r\n  :timer (fn [db [_ new-time]]\r\n           (assoc db :time new-time)))\r\n\r\n(rf/reg-event-db\r\n  :time-color-change\r\n  (fn [db [_ new-color-value]]\r\n    (assoc db :time-color new-color-value)))\r\n\r\n(rf/reg-sub\r\n  :time\r\n  (fn [db _]\r\n    (:time db)))\r\n\r\n(rf/reg-sub\r\n  :time-color\r\n  (fn [db _]\r\n    (:time-color db)))\r\n\r\n(defn clock\r\n  []\r\n  [:div.example-clock\r\n   {:style {:color @(rf/subscribe [:time-color])}}\r\n   (-> @(rf/subscribe [:time])\r\n       (str)\r\n       (clojure.string/split \" \")\r\n       (nth 4))])\r\n\r\n(defn color-input\r\n  []\r\n  [:div.color-input\r\n   \"Time color: \"\r\n   [:input {:type \"text\"\r\n            :value @(rf/subscribe [:time-color])\r\n            :on-change #(rf/dispatch [:time-color-change (-> % .-target .-value)])}]])\r\n\r\n(defn ui\r\n  []\r\n  [:div\r\n   [:h1 \"Hello world, it is now\"]\r\n   [clock]\r\n   [color-input]])\r\n\r\n(defn render\r\n  []\r\n  (reagent.dom/render [ui]\r\n                      (js/document.getElementById \"app\")))\r\n\r\n(defn ^:dev/after-load start\r\n  []\r\n  (rf/clear-subscription-cache!)\r\n  (render))\r\n\r\n(defn ^:export init\r\n  []\r\n  (rf/dispatch-sync [:initialize])\r\n  (render))\r\n"]}